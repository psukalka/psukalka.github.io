<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Tech | Diary Of An Observer</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="">
    <meta name="generator" content="Hugo 0.145.0">
    
    
    
      <meta name="robots" content="index, follow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css" >




    


    
      

    

    
    
      <link href="/tech/index.xml" rel="alternate" type="application/rss+xml" title="Diary Of An Observer" />
      <link href="/tech/index.xml" rel="feed" type="application/rss+xml" title="Diary Of An Observer" />
      
    

    
      <link rel="canonical" href="http://pvsukalkar.in/tech/">
    

    <meta property="og:url" content="http://pvsukalkar.in/tech/">
  <meta property="og:site_name" content="Diary Of An Observer">
  <meta property="og:title" content="Tech">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Tech">
  <meta itemprop="datePublished" content="2025-03-30T16:58:32+05:30">
  <meta itemprop="dateModified" content="2025-03-30T16:58:32+05:30">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Tech">

      
    
	
  </head><body class="ma0 avenir bg-near-white production">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Diary Of An Observer
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/" title="Home page">
              Home
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/tech/" title="Tech page">
              Tech
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/finance/" title="Finance page">
              Finance
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white white-90 no-underline" href="/about/" title="About Me page">
              About Me
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Tech
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy nested-links mid-gray"></section>
    <section class="flex-ns mt5 flex-wrap justify-around">
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/sentry/" class="link black dim">
        Sentry - For The Black
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><em>Where can I find the logs ?</em> was one of the initial questions that I asked while understanding our system. I came from a background where you need to see logs to find issues. I was taken aback when I heard that they don&rsquo;t capture logs. I kept wondering how they resolve issues in production.</p>
<p>It&rsquo;s been 5+ years now working in the system and I have rarely used logs. It brings a smile to my face when some new joinee asks for logs. With Sentry catching errors has become quite easy. Enable sentry on one of the servers and if any case throws error alerts are raised immediately. Whoever sent the buggy code is responsible to fix it immediately. Sentry alert gives you all details you would ever need to fix that bug. Which API ? Which Machine ? Which line ? What error ? What were the local variables ? &hellip; Thus, we have been able to scale to millions of users without ever depending on logs. Any bug that creeps in, gets killed in nascent stage.</p>
    </div>
    <a href="/tech/sentry/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/maintaining-database/" class="link black dim">
        Maintaining A Database
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>We use Django Framework in our system. Django comes with its own ORM for relational databases. There are few tables which are being used from 7+ years now, so we decided to look into them.</p>
<p>To check how much space a table is using, we can run following Postgres query:</p>
<pre tabindex="0"><code>     SELECT
        schemaname,
        tablename,
        pg_size_pretty(pg_total_relation_size(schemaname||&#39;.&#39;||tablename)) as total_size,
        pg_size_pretty(pg_relation_size(schemaname||&#39;.&#39;||tablename)) as table_size,
        pg_size_pretty(pg_indexes_size(schemaname||&#39;.&#39;||tablename)) as indexes_size
    FROM pg_tables
    WHERE tablename = &#39;{table_name}&#39;;
</code></pre><p>It turned out that the table is using 1.5GB space and its indexes are using 6.5GB space. This came as a surprise to me as I was always under the impression that indexes are smaller than table. Yes, indeed they are smaller but how many indexes you create also matters. It turns out that we had 50+ indexes on our table. Obviously not all of them are being used. So, I checked indexes and their usage with this query:</p>
    </div>
    <a href="/tech/maintaining-database/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/the-conundrum/" class="link black dim">
        The Conundrum: Sync Or Async
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Suppose I migrate my code from being synchronous to asynchronous what does change ? Let&rsquo;s try to think through.</p>
<p>Synchronous code execution is very predictable and linear. If you make some network call, it will relax there till the data comes. On the contrary, asynchronous code is quite busy. The poor guy keeps on running in (event) loop juggling multiple tasks concurrently. If it makes any network call it will register an event for that and pause execution there. Meanwhile it (eventloop) will pick and process some other event which is ready.</p>
    </div>
    <a href="/tech/the-conundrum/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/understanding-video/" class="link black dim">
        Understanding Video
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Say, I have a <code>video.mp4</code> file on my system. What exactly does it contain ? The outermost layer is called <code>Container</code>. There are various type of containers <code>mp4</code>, <code>mkv</code>, <code>mov</code>, <code>flv</code>, &hellip; Container contains metadata about the file like its title, duration, creation date, &hellip; Then it contains streams of data. They can be video streams, audio streams, subtitle streams, &hellip; This is pictorially explained in following image:</p>
<p><img src="/images/video-container.svg" alt="Video Container"></p>
    </div>
    <a href="/tech/understanding-video/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/the-swiss-knife/" class="link black dim">
        The Swiss Army Knife
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>FFmpeg is called the Swiss Army Knife for video and audio. Whatever you want to do with media like compressing, scaling, editing, encoding, decoding, transcoding, streaming, &hellip; FFmpeg can do everything. If it&rsquo;s so special, let&rsquo;s start using it. You can install <a href="https://ffmpeg.bufferhead.com/">FFmpeg</a> on your system.</p>
<p>Let&rsquo;s download some video <code>video_1.mp4</code> . I want to get details about this video. I can do so using:</p>
<pre tabindex="0"><code>ffprobe -v quiet -print_format json -show_format -show_streams video_1.mp4
</code></pre><p>Here we used <code>ffprobe</code> (that usually comes with ffmpeg).</p>
    </div>
    <a href="/tech/the-swiss-knife/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/drm/" class="link black dim">
        DRM
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Billions Of Dollars are annually lost by production companies due to piracy.
Someone can download your content and distribute it on free channel. Thus, you lose on revenue that user might have paid.</p>
<p>How do you solve this problem ? Or can we even solve it ?
If someone is playing a movie on TV and then recording it again through high quality camera (thus recreating it), you can&rsquo;t block this. This is called Analog Hole. Thus, you can&rsquo;t protect 100% piracy.</p>
    </div>
    <a href="/tech/drm/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/vector-graphics/" class="link black dim">
        Vector Graphics
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>If you zoom in on any image on your phone, it starts breaking after 2x - 3x zoom. You can see square pixel blocks. But what happens when you zoom in on google map ? Despite how much you zoom (till you hit last block) it doesn&rsquo;t seem to break. I observed similar thing with Figma.</p>
<p>What is the magic here ? Why doesn&rsquo;t it break ? Let&rsquo;s try to reverse engineer the problem. How would I achieve it if I want to create such google map like functionality.</p>
    </div>
    <a href="/tech/vector-graphics/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/video-scrubbing/" class="link black dim">
        Video Scrubbing
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>While watching YouTube video, if you hover over the seek bar you can preview video image of that location.
You can see images even at 10 min even though only 30 sec of video has buffered yet.
So, if the video has not loaded till 10 min, how is the video player able to display image at that location ? Isn&rsquo;t it interesting ?</p>
<p>This happens with a feature called video scrubbing. We need to process the uploaded video for video scrubbing.
When a video is uploaded (say of 10 min), we can take snapshots at regular intervals (of say 3sec).
So, for a 10 min video there will be 10*60/3 = 200 snapshots. We can generate these snapshots using ffmpeg.</p>
    </div>
    <a href="/tech/video-scrubbing/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/haproxy/" class="link black dim">
        HAProxy
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>When you go to <a href="https://www.haproxy.org/">HAProxy Site</a>, the small case fonts and hardly any effort on UI make you think <code>do they even maintain this site ?</code> Are HAProxy days done ? But if you make effort to read along, you fumble on this line: <em>Most users report having never ever faced any single crash and claim that HAProxy is the most solid part of their infrastructure. Finding machines with HAProxy processes being up for more than 3 years is not exceptional at all!</em> Phew!! Flexing of highest caliber.</p>
    </div>
    <a href="/tech/haproxy/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="w-100 w-30-l mb4 relative bg-white">
          <div class="w-100 mb4 nested-copy-line-height relative bg-white">
  <div class="mb3 pa4 gray overflow-hidden bg-white">
    <span class="f6 db">Tech</span>
    <h1 class="f3 near-black">
      <a href="/tech/caddy/" class="link black dim">
        Caddy
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Just as a golf caddie makes the game easier for golfers by carrying their equipments and offering guidance, the Caddy web server aims to make web hosting easier by handling complicated tasks (like SSL/TLS certificates) automatically. With caddy, you don&rsquo;t need to worry about your certificate expiration. It started back in the days when Let&rsquo;s Encrypt was just starting and enabling HTTPS on your website was a headache and costly.</p>
    </div>
    <a href="/tech/caddy/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
    </section>
    <ul class="pagination pagination-default">
      <li class="page-item disabled">
        <a aria-disabled="true" aria-label="First" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item disabled">
        <a aria-disabled="true" aria-label="Previous" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/tech/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/tech/page/2/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/tech/page/2/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul></article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="http://pvsukalkar.in/" >
    &copy;  Diary Of An Observer 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
